<!DOCTYPE html>
<html lang="en">
<body>
<h1>Page with replacing elements</h1>
<button id="start-regular-replacement">Start replacement</button>
<input id="dynamic-element" type="text" value="I will be replaced soon"/>

<script type="text/javascript">
  const commandDuration = 100;

  function replaceElement() {
    $('#dynamic-element').remove();
    setTimeout(createElement, commandDuration * 1.5); // a little longer than average Selenium command like "isDisplayed()".
  }
  function createElement() {
    $('body').append($('<input id="dynamic-element" value="Hello, I am back"/>'));
    setTimeout(addCssClass, commandDuration * 1.5);
  }
  function addCssClass() {
    $('#dynamic-element').addClass('reloaded');
  }
  function startRegularReplacement() {
    setInterval(replaceElement, commandDuration*4);
  }

  document.getElementById('start-regular-replacement').addEventListener('click', startRegularReplacement, false);
</script>

</body>
<head>
  <title>long ajax request</title>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <script type="text/javascript" src="jquery.min.js"></script>
</head>
</html>
